// Auto-generated file - do not edit directly
export const RESPONSES: Record<string, string> = {
  achieve_blocked_AB1:
    "## Response to the AI\n\nInform the developer that they cannot use Finite to return to the `.ai/task/plan.md` file editing state at this time. Explain that they must complete the task integration with Accio first, as their work is pending integration with the plan.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you need to complete your current task integration first.\n\n### Where We Are\n\nWe're currently in the `.ai/task/task.md` file execution phase with results that need to be integrated into the `.ai/task/plan.md` file.\n\n### Available Spells\n\n- **Accio**: Process the task results and integrate them into the `.ai/task/plan.md` file\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to integrate your completed task results with the plan before returning to plan editing. This ensures your progress is properly tracked and the next task is set up correctly.\n",
  achieve_blocked_AB2:
    "## Response to the AI\n\nInform the developer that Reverto is only available in PR states and explain that they are not currently in the PR review flow. Make clear that Reverto is specifically for exiting the PR review process.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because it's only available during PR review operations.\n\n### Where We Are\n\nWe're currently in the `.ai/task/task.md` file implementation phase, not responding to PR comments or in a PR review process.\n\n### Available Spells\n\n- **Accio**: Move forward with task execution or integration\n- **Finite**: Return to plan editing\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you need to work with PR reviews, use **Reparo** to start the PR review process. Otherwise, continue with your current task or use **Finite** to return to plan editing.\n",
  achieve_blocked_AB3:
    "## Response to the AI\n\nInform the developer that Expecto is only allowed in GATHER states because it's designed to enrich planning information from external resources. Explain that they need to return to plan editing first before using Expecto.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only available during the planning phase.\n\n### Where We Are\n\nWe're currently in the `.ai/task/task.md` file implementation phase where we're working on completing acceptance criteria, not gathering information for planning.\n\n### Available Spells\n\n- **Accio**: Move forward with task execution or integration\n- **Finite**: Return to plan editing\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Finite** to return to plan editing first, then you can use **Expecto** to enhance your plan with Atlassian resources. This maintains the proper workflow sequence.\n",
  achieve_transitions_A1:
    "## Response to the AI\n\nRead the `.ai/task/task.md` file, understand the task details, and then execute the task. Use the `.ai/task-guide.md` file for task execution guidance. Document your process and results in a new `.ai/task/task-results.md` file. Include:\n\n1. A summary of the task\n2. Steps you took to complete it\n3. Challenges encountered and how you resolved them\n4. Results achieved\n5. Impacts on the project's acceptance criteria\n\n## Response to the Developer\n\n### What Just Happened\n\nI've executed the task you defined and documented the results in the `.ai/task/task-results.md` file.\n\n### Where We Are\n\nWe've completed the task execution phase. The results have been recorded and are ready for review.\n\n### Available Spells\n\n- **Accio**: Process task results and create the next task\n- **Finite**: Return to plan editing\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/task-results.md` file for results I've documented. You can modify the `.ai/task/task-results.md` file directly or ask me to amend it if you'd like to add or remove anything. When you're satisfied with the results, use Accio to process them and determine what to tackle next.\n",
  achieve_transitions_A1b:
    "## Response to the AI\n\nInform the developer that the `.ai/task/task.md` file is missing, which is needed for task execution. Explain how to recover from this error state.\n\n## Response to the Developer\n\n### What Just Happened\n\nI've encountered an error: the `.ai/task/task.md` file is missing from the workspace.\n\n### Where We Are\n\nWe're in an error state where the system expected to find a task file but couldn't locate it.\n\n### Available Spells\n\n- **Accio**: Create a new task file based on the plan\n- **Finite**: Return to plan editing\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to create a new task file based on your plan, or use Finite to return to plan editing if you'd prefer to review the `.ai/task/plan.md` file first.\n",
  achieve_transitions_A2:
    "## Response to the AI\n\n1. Read the `.ai/task/plan.md` file to identify which acceptance criteria were addressed\n2. Update the `.ai/task/plan.md` file to mark completed acceptance criteria\n3. Create a new `.ai/task/task.md` file for the next logical task based on remaining acceptance criteria\n4. Use the `.ai/task-guide.md` file for task creation guidance\n\nTask Results Content:\n[TASK_RESULTS_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nI've archived your completed task and its results, and updated the plan to reflect our progress.\n\n### Where We Are\n\nWe're now ready to define our next task based on the remaining acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Execute the newly created task\n- **Finite**: Return to plan editing\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the proposed next task I've created at `.ai/task/task.md`, modify it if needed. You can also check the `.ai/task-guide.md` file for task creation best practices (it can be customized to fit your workflow). Use Accio to execute it when you're ready.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  achieve_transitions_A2b:
    "## Response to the AI\n\nInform the developer that the `.ai/task/task-results.md` file is missing, which is needed to properly process the task completion. Explain how to recover from this error state.\n\n## Response to the Developer\n\n### What Just Happened\n\nI've encountered an error: the `.ai/task/task-results.md` file is missing, which contains the results of your task execution.\n\n### Where We Are\n\nWe're in an error state where the system expected to find task results but couldn't locate the file.\n\n### Available Spells\n\n- **Accio**: Request recreation of the task results based on current changes\n- **Finite**: Return to plan editing\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to have me recreate the `.ai/task/task-results.md` file based on the current git diff, or use Finite to return to plan editing.\n",
  achieve_transitions_A3:
    "## Response to the AI\n\nInform the developer that the system has determined all acceptance criteria have been met.\n\n## Response to the Developer\n\n### What Just Happened\n\nAll acceptance criteria in the `.ai/task/plan.md` file have been completed!\n\n### Where We Are\n\nWe've successfully completed all the acceptance criteria defined in the `.ai/task/plan.md` file.\n\n### Available Spells\n\n- **Finite**: Return to plan editing to add more acceptance criteria if needed\n- **Reparo**: Begin a PR review process to get feedback on our implementation\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nYou can use Finite to return to plan editing and add more acceptance criteria if the project requires additional work, or use Reparo to initiate a PR review process for the completed work.\n",
  achieve_transitions_A4:
    '## Response to the AI\n\nRemind the developer that all acceptance criteria are complete and explain their options for next steps.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast Accio, but all acceptance criteria in the `.ai/task/plan.md` file have already been completed.\n\n### Where We Are\n\nWe remain in the completion phase, with all acceptance criteria met.\n\n### Available Spells\n\n- **Finite**: Return to plan editing to add more acceptance criteria\n- **Reparo**: Begin a PR review process to get feedback on our implementation\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nTo continue development, use Finite to return to plan editing and add new acceptance criteria, or use Reparo to initiate a PR review process for your completed work. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved (e.g., `- [ ] Add error handling`).\n',
  error_other_ER1:
    "## Response to the AI\n\nInform the developer that they cannot return to plan editing without a plan file. Direct them to use Accio to create a new plan file first.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because there is no plan file to return to.\n\n### Where We Are\n\nWe're currently in an error state because the `.ai/task/plan.md` file is missing. This is the core document that defines your project's goals and acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Create a new plan file and start fresh\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to create a new plan file first. This will reset the workflow and allow you to start defining your project goals and acceptance criteria.\n",
  error_other_ER10:
    '## Response to the AI\n\nExplain: "Cannot start PR review until current error is resolved. Use Accio first."\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because there\'s a missing context file error that needs to be resolved first.\n\n### Where We Are\n\nWe\'re in an error state because the expected context file is missing.\n\n### Available Spells\n\n- **Accio**: Create the context document to resolve the error\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to create the missing context file and resolve the error, then you can use **Reparo** to start a PR review.\n',
  error_other_ER11:
    "## Response to the AI\n\nExplain: \"Reverto is only available in PR review states. Resolve the current error first with Accio.\"\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because it's only available during PR review processes.\n\n### Where We Are\n\nWe're in an error state because the expected context file is missing.\n\n### Available Spells\n\n- **Accio**: Create the context document to resolve the error\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to create the missing context file and resolve the error. Once you're back in normal workflow, you can use **Reparo** to start a PR review if needed.\n",
  error_other_ER12:
    '## Response to the AI\n\nExplain: "Cannot run Expecto without a context file. Use Accio first to create one."\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because there\'s no context file to enrich with Atlassian resources.\n\n### Where We Are\n\nWe\'re in an error state because the expected context file is missing.\n\n### Available Spells\n\n- **Accio**: Create the context document to resolve the error\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to create the missing context file and resolve the error. Once you have a context file with Atlassian URLs, you can use **Expecto** to enrich it.\n',
  error_other_ER2:
    "## Response to the AI\n\nExplain to the developer that they cannot return to plan editing while there's an issue with the review task. Direct them to use Accio to fix the missing review task first.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because there's an issue with the review task that needs to be resolved first.\n\n### Where We Are\n\nWe're currently in an error state because a review task file is missing or incomplete. This file is needed to proceed with the PR review workflow.\n\n### Available Spells\n\n- **Accio**: Recreate the missing review task file\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to recreate the `.ai/task/review task.md` file first. This will allow you to either continue with the review process or properly exit it.\n",
  error_other_ER3a:
    "## Response to the AI\n\nInform the developer that they cannot start a PR review while in an error state. Direct them to use Accio first to resolve the current error.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because you need to resolve the current error state first.\n\n### Where We Are\n\nWe're in an error state that needs to be fixed before you can start a PR review process.\n\n### Available Spells\n\n- **Accio**: Resolve the current error by recreating the missing file(s)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to resolve the current error. This will recreate the missing file(s) and restore your workflow to a proper state, after which you can use Reparo to start a PR review if needed.\n",
  error_other_ER3b:
    "## Response to the AI\n\nInform the developer that they need to complete the current PR review process by archiving the results before starting a new PR review. Direct them to use Accio first.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because you need to complete your current PR review process first.\n\n### Where We Are\n\nWe've completed a PR review task and need to archive the results before starting any new PR review.\n\n### Available Spells\n\n- **Accio**: Archive the current review results and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to properly archive your current review results. This ensures your work is saved properly before you start a new PR review process.\n",
  error_other_ER4:
    "## Response to the AI\n\nExplain to the developer that Reverto is only available in PR review states and that they need to resolve the current error first before they can use Reverto.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because it's only available in PR review states, and you're currently in an error state.\n\n### Where We Are\n\nWe're in an error state that needs to be resolved before you can proceed with normal workflow operations.\n\n### Available Spells\n\n- **Accio**: Resolve the current error and recreate the missing file(s)\n- **Finite**: Return to plan editing (if available in this error state)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nFirst resolve the current error with **Accio** to recreate the missing file(s), then you'll be able to use the normal workflow commands.\n",
  error_other_ER5:
    "## Response to the AI\n\nInform the developer that they should fix the current error state before returning to plan editing. Direct them to use Accio to resolve the missing file issue first.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you should resolve the current error state first.\n\n### Where We Are\n\nWe're in an error state due to a missing file that needs to be recreated before you can continue with normal workflow operations.\n\n### Available Spells\n\n- **Accio**: Fix the missing file issue and restore proper workflow state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to fix the missing file issue first. This will recreate the necessary file and restore your workflow to a proper state, after which you can use Finite if you still want to return to plan editing.\n",
  error_other_ER6:
    "## Response to the AI\n\nExplain to the developer that Expecto is only allowed in GATHER states and they need to resolve the current error first with Accio or Finite.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only allowed in GATHER states, and you're currently in an error state.\n\n### Where We Are\n\nWe're in an error state that needs to be resolved before you can use Expecto to enrich your plan with Atlassian resources.\n\n### Available Spells\n\n- **Accio**: Resolve the current error by recreating the missing file(s)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nFirst use **Accio** to fix the current error by recreating the missing file(s). Once resolved, you can use Finite to return to plan editing if needed, and then use Expecto to enrich your plan with Atlassian resources.\n",
  error_other_ER7a:
    "## Response to the AI\n\nInform the developer that they cannot run Expecto when the `.ai/task/plan.md` file is missing. Direct them to use Accio first to create a new plan file.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because there's no plan file to enrich with Atlassian resources.\n\n### Where We Are\n\nWe're in an error state due to a missing plan file, which is the core document that defines your project's goals and acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Create a new plan file to start fresh\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to create a new plan file. Once you have a plan file with Atlassian URLs, you can use Expecto to enrich it with content from those resources.\n",
  error_other_ER7b:
    "## Response to the AI\n\nInform the developer that they need to archive their current review results with Accio before using Expecto, which is only available in GATHER states.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because you need to archive your current review results first.\n\n### Where We Are\n\nWe've completed a PR review task and need to archive the results before we can return to a GATHER state where Expecto is available.\n\n### Available Spells\n\n- **Accio**: Archive the current review results and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to archive your current review results first. This will return you to a GATHER state where you can then use Expecto to enrich your plan with Atlassian resources.\n",
  error_other_ER8:
    "## Response to the AI\n\nExplain to the developer that Expecto is only allowed in GATHER states and they need to resolve the current error first with Accio.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only allowed in GATHER states, and you're currently in an error state related to review tasks.\n\n### Where We Are\n\nWe're in an error state with missing review task files that need to be resolved before normal workflow operations can continue.\n\n### Available Spells\n\n- **Accio**: Resolve the current error by recreating the missing review task file(s)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** first to recreate the missing review task file(s). Once that's done, if you need to use Expecto, you'll need to exit the PR review process completely (with Accio to archive or Reverto to cancel) and return to the GATHER state.\n",
  error_other_ER9:
    "## Response to the AI\n\nExplain: \"No context to return to, must Accio to create one first.\"\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because there's no context file to return to.\n\n### Where We Are\n\nWe're in an error state because the expected context file is missing.\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering project information\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to create your context document first, then you'll be able to use other spells to manage your workflow.\n",
  error_recovery_R1:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to understand the project goals and acceptance criteria. Use the template in `.ai/task/task.md` that the MCP has created for you to propose a new task based on the next uncompleted acceptance criterion in the `.ai/task/plan.md` file. Use the `.ai/task-guide.md` file for task creation guidance.\n\n## Response to the Developer\n\n### What Just Happened\n\nI've created a new task file at `.ai/task/task.md` since the previous one was missing.\n\n### Where We Are\n\nWe're now back in the `.ai/task/task.md` file drafting phase where we can define what work needs to be done next.\n\n### Available Spells\n\n- **Accio**: Execute this task and document the results\n- **Finite**: Return to plan editing if you need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's complete the task definition in `.ai/task/task.md` with clear steps. You can also check the `.ai/task-guide.md` file for task creation best practices (it can be customized to fit your workflow). Use Accio to execute it when ready.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  error_recovery_R2:
    "## Response to the AI\n\nUse the task results content below to understand what was completed in the previous task. Update `.ai/task/plan.md` to mark any completed acceptance criteria based on these results. Then create a new task in `.ai/task/task.md` focusing on the next uncompleted acceptance criterion. Use the `.ai/task-guide.md` file for task creation guidance. Note that the previous `.ai/task/task.md` and `.ai/task/task-results.md` have been archived to [ARCHIVE_PATH_PLACEHOLDER].\n\n**Previous Task Results:**\n[TASK_RESULTS_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nI've found the task results and updated our plan with the completed work. The previous task has been archived to [ARCHIVE_PATH_PLACEHOLDER] and a new task has been created at `.ai/task/task.md`.\n\n### Where We Are\n\nWe're now drafting a new task in `.ai/task/task.md` based on the results of the previous work.\n\n### Available Spells\n\n- **Accio**: Execute this task and document the results\n- **Finite**: Return to plan editing if you need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review this new task in `.ai/task/task.md` and make any necessary adjustments. You can also check the `.ai/task-guide.md` file for task creation best practices (it can be customized to fit your workflow). Use Accio to execute it when ready.\n",
  error_recovery_R3:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to identify uncompleted acceptance criteria. Fill out the task template in `.ai/task/task.md` focusing on the next uncompleted acceptance criterion. Use the `.ai/task-guide.md` file for task creation guidance. The previous incomplete task has been archived to [INCOMPLETE_ARCHIVE_PATH_PLACEHOLDER].\n\n## Response to the Developer\n\n### What Just Happened\n\nI've archived the incomplete task to [INCOMPLETE_ARCHIVE_PATH_PLACEHOLDER] and filled out the new task template at `.ai/task/task.md` since the previous task results file was missing.\n\n### Where We Are\n\nWe're back in the `.ai/task/task.md` file drafting phase with a fresh task based on our plan's remaining acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Execute this task and document the results\n- **Finite**: Return to plan editing if you need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review the `.ai/task/task.md` file and make any necessary adjustments. You can also check the `.ai/task-guide.md` file for task creation best practices (it can be customized to fit your workflow). Use Accio to execute it when ready.\n",
  error_recovery_R4:
    "## Response to the AI\n\nGuide the user through creating a new `.ai/task/plan.md` file. Help them define the project goals, context, and acceptance criteria.\n\n## Response to the Developer\n\n### What Just Happened\n\nI've created a new plan template at `.ai/task/plan.md` since your previous plan file was missing.\n\n### Where We Are\n\nWe're starting fresh in the planning phase where we'll define what we want to accomplish.\n\n### Available Spells\n\n- **Accio**: Move to task creation after adding at least one acceptance criterion\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's fill out this plan at `.ai/task/plan.md` with our project goals and at least one specific acceptance criterion, then use Accio to start creating tasks. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved (e.g., `- [ ] Implement login functionality`).\n",
  error_recovery_R5a:
    "## Response to the AI\n\nRead the empty `.ai/task/comments.md` file, and then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've recreated the `.ai/task/comments.md` file and gathered PR comments for your current branch, saved to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're in the PR review process, gathering feedback from your pull request comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Finite**: Return to plan editing\n- **Reverto**: Cancel the PR review process and return to plan editing\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've recreated the `.ai/task/comments.md` file but couldn't find any PR comments for your current branch.\n\n### Where We Are\n\nWe're in the PR review process, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to plan editing\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found in `.ai/task/comments.md`, use Reverto to exit the PR review process and return to plan editing.\n",
  error_recovery_R5b:
    "## Response to the AI\n\nRead the empty `.ai/task/comments.md` file, and then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've recreated the `.ai/task/comments.md` file and gathered PR comments for your current branch, saved to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're in the PR review process, gathering feedback from your pull request comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Finite**: Return to plan editing\n- **Reverto**: Cancel the PR review process and return to task drafting\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've recreated the `.ai/task/comments.md` file but couldn't find any PR comments for your current branch.\n\n### Where We Are\n\nWe're in the PR review process, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to task drafting\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found in `.ai/task/comments.md`, use Reverto to exit the PR review process and return to task drafting.\n",
  error_recovery_R6a:
    "## Response to the AI\n\nto understand the PR feedback. Fill out the review task template in `.ai/task/review-task.md` that has been created by the system. Use the `.ai/task-guide.md` file for task execution guidance. The review task should include:\n\n1. A summary of the PR comments\n2. Specific tasks to address each comment\n3. Acceptance criteria for those tasks\n\n## Response to the Developer\n\n### What Just Happened\n\nI've filled out the review task template at `.ai/task/review-task.md` based on the PR comments you gathered earlier.\n\n### Where We Are\n\nWe're in the PR review process, with a structured plan to address the feedback from your pull request.\n\n### Available Spells\n\n- **Accio**: Execute this review task and document the results\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the tasks in `.ai/task/review-task.md` for addressing the PR feedback, then use Accio to execute them.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  error_recovery_R7a:
    "## Response to the AI\n\nInform the developer that both the `.ai/task/review task.md` file and comments file are missing. They need to recreate the `.ai/task/comments.md` file first.\n\n## Response to the Developer\n\n### What Just Happened\n\nI attempted to create a review task, but couldn't find the PR comments file that's needed as a reference.\n\n### Where We Are\n\nWe're in an error state where both the PR comments and review task are missing.\n\n### Available Spells\n\n- **Accio**: Recreate the `.ai/task/comments.md` file first to gather PR comments\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to recreate the `.ai/task/comments.md` file first, which will gather your PR comments. Once we have the comments, we can create a review task.\n",
  error_recovery_R8a:
    "## Response to the AI\n\nRead the `.ai/task/review-task.md` file to understand what PR feedback needs to be addressed. Use the `.ai/task-guide.md` file for task execution guidance. Execute the review task again since the results file was missing.\n\n## Response to the Developer\n\n### What Just Happened\n\nI found your review task at `.ai/task/review-task.md` but the results file was missing. I've returned you to the review task draft phase.\n\n### Where We Are\n\nWe're back in the PR review process with your existing review task ready to be executed.\n\n### Available Spells\n\n- **Accio**: Execute this review task and document the results\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the existing tasks for addressing PR feedback in `.ai/task/review-task.md`, then use Accio to execute them.\n",
  error_recovery_R9:
    "## Response to the AI\n\nGuide the user to add content to the context.md file that has been created. The context.md file includes sections for task description, goals, requirements, acceptance criteria, and any relevant Atlassian URLs.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've recreated the missing context document and restored the context editing phase.\n\n### Where We Are\n\nWe're back in the context editing phase where you can provide your project information.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan once you've added content to context.md\n- **Expecto**: Enrich context with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Finite**: No-op (already in context editing)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nPlease add your project context, goals, requirements, and any relevant information to the `.ai/task/context.md` file. Then use **Accio** to generate your structured plan when ready.\n",
  finite_blocked_F3:
    "## Response to the AI\n\nInform the developer that they need to archive the current review results using Accio before returning to plan editing. Explain that this ensures proper processing and integration of review feedback.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you need to complete the current PR review process first.\n\n### Where We Are\n\nWe're in the PR review workflow with pending results that need to be properly archived and integrated.\n\n### Available Spells\n\n- **Accio**: Archive and process the current review results\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to properly archive and integrate your PR review results before returning to plan editing. This ensures all feedback is properly processed.\n",
  finite_blocked_F4:
    "## Response to the AI\n\nInform the developer that Finite cannot be used at this stage because no context has been created yet.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you need to create your context document first.\n\n### Where We Are\n\nWe're at the very beginning of the workflow where no context has been created yet.\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering task information\n- **Expecto**: Enrich with Atlassian resources (after creating context)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to create your context document where you'll describe your task goals and requirements. Once you have a plan, you'll be able to use **Finite** to return to plan editing.\n",
  finite_blocked_F5:
    "## Response to the AI\n\nInform the developer that Finite cannot be used until they generate their plan document from their context.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you need to generate your plan document first.\n\n### Where We Are\n\nWe're in the context editing phase where you have context information but haven't yet generated your structured plan.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context information\n- **Expecto**: Enrich context with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to generate your structured plan from your context information. Once you have a plan document, you'll be able to use **Finite** to return to plan editing when needed.\n",
  finite_transitions_F1:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to understand what the user was working on. Then guide the user through continuing their work on the plan.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've returned to the `.ai/task/plan.md` file editing state from another workflow phase.\n\n### Where We Are\n\nWe're now back in the planning phase where we can edit and refine our project plan.\n\n### Available Spells\n\n- **Accio**: Progress to task creation once you've defined at least one acceptance criterion\n- **Expecto**: Enrich the plan with information from Atlassian resources if you have Jira or Confluence links\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review and refine the plan in `.ai/task/plan.md`, making sure we have clear acceptance criteria defined before moving forward.\n",
  finite_transitions_F2:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to understand what the user was working on. Note that all acceptance criteria in the `.ai/task/plan.md` file have been completed. Guide the user on what they can do next, such as adding new acceptance criteria or starting a PR review.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've returned to plan editing after completing all acceptance criteria in our project plan!\n\n### Where We Are\n\nWe're now back in the planning phase where we can celebrate our progress and decide what to do next.\n\n### Available Spells\n\n- **Accio**: Progress to task creation once you've defined at least one new acceptance criterion\n- **Expecto**: Enrich the plan with information from Atlassian resources if you have Jira or Confluence links\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nCongratulations on completing all acceptance criteria! You can now:\n\n1. Add new acceptance criteria to `.ai/task/plan.md` if you want to continue development (acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved)\n2. Use Reparo to start a PR review process for the work completed\n3. Review the `.ai/task/plan.md` file to see everything that was accomplished\n",
  gather_blocked_GB1:
    "## Response to the AI\n\nInform the developer that the Reverto spell cannot be used in the current state because it is only available during PR review states. Explain that they are currently in a planning state where Reverto has no effect.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because it's only available during PR review states.\n\n### Where We Are\n\nWe're in the planning phase where we define project requirements and acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Advance to task creation (requires at least one acceptance criterion)\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nContinue working on your plan by adding acceptance criteria, then use **Accio** to move to task creation, or use **Reparo** if you want to start a PR review process.\n",
  gather_blocked_GCB1:
    "## Response to the AI\n\nInform the developer that Reverto cannot be used in context gathering states as it's only available in PR review states.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because you're not in a PR review process.\n\n### Where We Are\n\nWe're in the context gathering phase where you're providing project information.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context (if context has content) or create context file (if starting)\n- **Expecto**: Enrich context with Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you want to work on PR reviews, use **Reparo** to start the PR review process. Otherwise, continue adding information to your context file and use **Accio** when ready to generate your plan.\n",
  gather_blocked_GCB2:
    "## Response to the AI\n\nInform the developer that Expecto cannot be used right now because no context file exists to read Atlassian URLs from.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because there's no context file to read Atlassian URLs from.\n\n### Where We Are\n\nWe're at the very beginning where no context has been created yet.\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering task information\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Unavailable Spells\n\n- **Expecto**: Cannot enrich context without a context file (use **Accio** to create one first)\n\n### Next Steps\n\nUse **Accio** to create your context document first. Once you have a context file with Atlassian URLs, you'll be able to use **Expecto** to enrich it.\n",
  gather_blocked_GCB3:
    "## Response to the AI\n\nInform the developer that Reparo cannot be used in the context gathering phase because PR reviews require a plan to return to.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because PR reviews require a plan to return to.\n\n### Where We Are\n\nWe're at the very beginning where no context or plan has been created yet.\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering task information\n- **Lumos**: Show current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Cannot start PR reviews until you have a plan (use **Accio** to create plan first)\n- **Expecto**: Cannot enrich context without a context file\n- **Finite**: Cannot return to plan editing because no plan exists yet\n- **Reverto**: Only available during PR review processes\n\n### Next Steps\n\nUse **Accio** to create your context document first, then generate a plan. Once you have a plan, you'll be able to use **Reparo** to start PR reviews that can return to plan editing.\n",
  gather_blocked_GCB4:
    "## Response to the AI\n\nInform the developer that Reparo cannot be used in the context gathering phase because PR reviews require a plan to return to.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because PR reviews require a plan to return to.\n\n### Where We Are\n\nWe're in the context editing phase where you have context information but haven't yet generated your structured plan.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context information\n- **Expecto**: Enrich context with information from Atlassian resources\n- **Finite**: Stay in context editing (no-op)\n- **Lumos**: Show current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Cannot start PR reviews until you have a plan (use **Accio** to create plan first)\n- **Reverto**: Only available during PR review processes\n\n### Next Steps\n\nUse **Accio** to generate your structured plan from your context information. Once you have a plan document, you'll be able to use **Reparo** to start PR reviews that can return to plan editing.\n",
  gather_noop_GCN1:
    "## Response to the AI\n\nInform the developer that Finite had no effect because they're already in context editing phase.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Finite** which had no effect because you're already in the context gathering phase.\n\n### Where We Are\n\nWe're in the context editing phase where you're providing project information and requirements.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context information\n- **Expecto**: Enrich context with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nContinue editing your `.ai/task/context.md` file with project details, then use **Accio** to generate your structured plan when ready.\n",
  gather_noop_GCN2:
    "## Response to the AI\n\nInform the developer that Finite had no effect because they need to first create the context file.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Finite** which had no effect because you need to create your context file first.\n\n### Where We Are\n\nWe're at the very beginning, where no context has been created yet.\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering project information\n- **Expecto**: Enrich with Atlassian resources (after creating context)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to create your context document and start defining your project goals and requirements.\n",
  gather_noop_GCN3:
    "## Response to the AI\n\nInform the developer that Expecto had no effect because no Atlassian URLs were found in the context.md file.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Expecto** which had no effect because no Atlassian URLs (Jira or Confluence links) were found in your context.\n\n### Where We Are\n\nWe're in the context gathering phase, but there are no Atlassian resources to enrich from.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your current context information\n- **Expecto**: Enrich context with Atlassian resources (add URLs to context.md first)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you have Jira tickets or Confluence pages relevant to your project, add those URLs to your `.ai/task/context.md` file and try **Expecto** again. Otherwise, use **Accio** to generate your plan from the current context.\n",
  gather_noop_GN1:
    "## Response to the AI\n\nInform the developer that casting Finite has no effect because they are already in the `.ai/task/plan.md` file editing state.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Finite** which had no effect because you're already in the `.ai/task/plan.md` file editing state.\n\n### Where We Are\n\nWe're currently in the planning phase where we define project requirements and acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Advance to task creation (requires at least one acceptance criterion)\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nContinue working on your plan by adding acceptance criteria, then use **Accio** to move to task creation when you're ready.\n",
  gather_noop_GN2:
    "## Response to the AI\n\nInform the developer that casting Finite has no effect because they are in the initial state, and there's no plan to return to yet.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Finite** which had no effect because we're already in the initial state and no plan exists yet.\n\n### Where We Are\n\nWe're at the starting point of the workflow where we need to create a plan.\n\n### Available Spells\n\n- **Accio**: Create a new plan document\n- **Expecto**: Not useful until we have a plan with Atlassian references\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to create a new plan document and start defining your project requirements.\n",
  gather_noop_GN3:
    "## Response to the AI\n\nInform the developer that casting Expecto had no effect because no Atlassian URLs were found in the `.ai/task/plan.md` file.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Expecto** which had no effect because no Atlassian URLs (Jira/Confluence) were found in the `.ai/task/plan.md` file.\n\n### Where We Are\n\nWe're in the planning phase, but we need Atlassian resources to enrich the plan.\n\n### Available Spells\n\n- **Accio**: Advance to task creation (requires at least one acceptance criterion)\n- **Expecto**: Will work once you add Jira or Confluence links to the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nAdd Jira or Confluence URLs to your `.ai/task/plan.md` file, then use **Expecto** again to enrich your plan with content from these resources.\n",
  gather_transitions_G1:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to understand the plan. Guide the user through filling out the plan sections, especially the Acceptance Criteria section.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've created a new plan document for our project.\n\n### Where We Are\n\nWe're now in the planning phase where we'll define what we want to accomplish.\n\n### Available Spells\n\n- **Accio**: Move to task creation after adding at least one acceptance criterion\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's add at least one acceptance criterion to the `.ai/task/plan.md` file, then use Accio to start creating tasks.\n",
  gather_transitions_G2:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` and the `.ai/task/task.md` file. Your goal is to propose the next smallest task that will help fulfill the remaining Acceptance Criteria in the `.ai/task/plan.md` file and put it into the `.ai/task/task.md` file following its template. Use the `.ai/task-guide.md` file for task creation guidance.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've created a task document based on our plan's acceptance criteria.\n\n### Where We Are\n\nWe're now drafting a task in `.ai/task/task.md` where we'll define the specific work to be done.\n\n### Available Spells\n\n- **Accio**: Execute the defined task and document results\n- **Finite**: Return to plan editing if we need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review and refine the proposed task in `.ai/task/task.md`. You can also check the `.ai/task-guide.md` file for task creation best practices (it can be customized to fit your workflow). Use Accio to execute the task when we're ready.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  gather_transitions_G2b:
    "## Response to the AI\n\nInform the user that the `.ai/task/plan.md` file is missing, which is required for the workflow. Direct them to use Accio to reset and create a new plan.\n\n## Response to the Developer\n\n### What Just Happened\n\nI've detected that the `.ai/task/plan.md` file is missing, which is required for the current workflow.\n\n### Where We Are\n\nYou're in an error state because the `.ai/task/plan.md` file that should contain your project requirements and acceptance criteria cannot be found.\n\n### Available Spells\n\n- **Accio**: Reset the workflow and create a new plan file\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to reset the workflow and create a new plan file where you can define your project requirements.\n",
  gather_transitions_G3:
    "## Response to the AI\n\nInform the user that they need to add at least one Acceptance Criterion to `.ai/task/plan.md` before we can proceed with task creation.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Accio** which had no effect because our plan doesn't have any acceptance criteria defined yet.\n\n### Where We Are\n\nWe're still in the planning phase. Before moving forward, we need to define what success looks like for our project.\n\n### Available Spells\n\n- **Accio**: Try again after adding at least one acceptance criterion\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's add at least one acceptance criterion to our `.ai/task/plan.md` file, then use Accio again to proceed to task creation. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved (e.g., `- [ ] Implement user authentication`).\n",
  gather_transitions_G4:
    "## Response to the AI\n\nRead the `.ai/task/task.md` file, summarize its content, and help the user continue refining it.\n\nTask Content:\n[TASK_CONTENT_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've found an existing task document that we were working on previously.\n\n### Where We Are\n\nWe're now drafting our previously created task in `.ai/task/task.md`.\n\n### Available Spells\n\n- **Accio**: Execute the defined task and document results\n- **Finite**: Return to plan editing if we need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's continue refining this task, then use Accio to execute it when we're ready.\n",
  gather_transitions_G5:
    '## Response to the AI\n\nRead the empty `.ai/task/comments.md` file, and then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities (look for functions containing terms like "github", "gh", or "git" in their names or descriptions)\n   - Try a minimal call such as a simple repository search using a generic term like "test" OR list the repositories the authenticated user can access\n   - Analyze the response:\n     - If you receive GitHub data, the integration is working and authenticated\n     - If you receive an authentication error, the integration exists but requires authentication\n     - If no GitHub tools/functions are available, the integration is not installed\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the "Comments Found" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the "No Comments Found" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI\'ve gathered PR comments for your current branch and saved them to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe\'re now in the PR review flow where we need to address the feedback in these comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I\'ve gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI\'ve checked for PR comments but couldn\'t find any for your current branch.\n\n### Where We Are\n\nWe\'re in the PR review flow, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found, use Reverto to exit the PR review process and return to your previous workflow.\n',
  gather_transitions_GC1:
    "## Response to the AI\n\nGuide the user through filling out the context file with their task information, plans, requirements, and any relevant links. The `.ai/task/context.md`, `.ai/plan-guide.md`, and `.ai/task-guide.md` files have been created for them.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've created a new context document where you can describe your task and requirements.\n\n### Where We Are\n\nWe're now in the context gathering phase where you'll provide all the information about your task goals, requirements, and any relevant resources.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context information\n- **Lumos**: Show current state and available actions\n\n### Unavailable Spells\n\n- **Expecto**: Cannot enrich context until you have content in your context file\n- **Reparo**: Cannot start PR reviews until you have a plan (use **Accio** to create plan first)\n\n### Next Steps\n\nPlease add your task context, goals, requirements, and any Jira/Confluence links to the `.ai/task/context.md` file. You can review the `.ai/plan-guide.md` file to understand how your context will be structured into a plan, and the `.ai/task-guide.md` file for task creation guidance (both guides can be customized to fit your workflow). Then use **Accio** to generate your structured plan.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  'gather_transitions_GC2-no-urls':
    "## Response to the AI\n\nRead the `.ai/task/context.md` and `.ai/plan-guide.md` files.\n\nGenerate a structured `.ai/task/plan.md` file based on the context.md content using the guidelines in plan-guide.md. Focus on creating clear acceptance criteria and organizing the information logically.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've generated a structured plan document based on your context information and planning guidelines.\n\n### Where We Are\n\nWe're now in the planning phase where we can refine our structured plan and prepare to create tasks.\n\n### Available Spells\n\n- **Accio**: Move to task creation after reviewing the generated plan\n- **Expecto**: Enrich our plan with additional information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the generated `.ai/task/plan.md` file to ensure it accurately reflects your requirements. Make any necessary edits, then use **Accio** to start creating tasks when you're ready.\n",
  gather_transitions_GC2:
    "## Response to the AI\n\nYou have been provided with a list of Atlassian URLs from the `.ai/task/context.md` file that have not been processed yet:\n\n[ATLASSIAN_URLS_PLACEHOLDER]\n\nRead the `.ai/task/context.md` and `.ai/plan-guide.md` files.\n\nFirst, check if the Atlassian MCP is available using this approach:\n\n1. Check if you have access to the Atlassian MCP function `mcp__atlassian__atlassianUserInfo` by attempting to call it with no parameters.\n2. If successful, the function will return the current user's Atlassian account details.\n3. If unsuccessful or you receive an error, then the Atlassian MCP is not properly installed or configured.\n\nBased on Atlassian MCP availability:\n\n- If Atlassian MCP is available:\n  1. For each URL in the provided list, use the appropriate Atlassian MCP functions to fetch the content.\n  2. Integrate the information from these Atlassian resources during plan generation.\n  3. After successfully processing each URL, add it to the `.ai/task/.atlassian-refs` file (one URL per line).\n\n- If Atlassian MCP is not available:\n  1. Copy the URLs to a separate section in the generated plan.md for later processing.\n\nGenerate a structured `.ai/task/plan.md` file based on the context.md content using the guidelines in plan-guide.md. Focus on creating clear acceptance criteria and organizing the information logically.\n\n## Response to the Developer\n\n### Atlassian Integration Available Response:\n\n### What Just Happened\n\nWe've generated a structured plan document based on your context information, planning guidelines, and enriched it with information from your Atlassian resources.\n\n### Where We Are\n\nWe're now in the planning phase where we can refine our structured plan and prepare to create tasks.\n\n### Available Spells\n\n- **Accio**: Move to task creation after reviewing the generated plan\n- **Expecto**: Enrich our plan with additional information from Atlassian resources\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the generated `.ai/task/plan.md` file to ensure it accurately reflects your requirements. The plan has been enriched with information from your Atlassian resources. Use **Accio** to start creating tasks when you're ready.\n\n### Atlassian Integration Unavailable Response:\n\n### What Just Happened\n\nWe've generated a structured plan document based on your context information and planning guidelines, but the Atlassian integration is not available or configured.\n\n### Where We Are\n\nWe're now in the planning phase where we can refine our structured plan and prepare to create tasks.\n\n### Available Spells\n\n- **Accio**: Move to task creation after reviewing the generated plan\n- **Expecto**: Enrich our plan with Atlassian resources (requires configuration)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nTo enable Atlassian integration:\n\n1. Ensure you have valid Atlassian credentials\n2. Configure the Atlassian integration for this environment\n3. Try the **Expecto** spell again once configured\n\nAlternatively, you can continue without Atlassian integration by using **Accio** to start creating tasks from your current plan.\n",
  gather_transitions_GC2b:
    "## Response to the AI\n\nThe system expected context.md to exist but it's missing.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe attempted to generate a plan from your context, but the context.md file is missing.\n\n### Where We Are\n\nWe're in an error state because the expected context file couldn't be found.\n\n### Available Spells\n\n- **Accio**: Recreate the context.md file and return to context editing\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to recreate the context.md file and then add your project information to it.\n",
  lumos_transitions_L1:
    "### Where We Are\n\nYou are in the initial phase where planning hasn't started yet.\n\n**Key Files:**\nNo project files exist yet.\n\n### Available Spells\n\n- **Accio**: Creates a new plan file (`.ai/task/plan.md`) and starts the planning process\n- **Expecto**: Attempts to enrich plan information from Atlassian resources (requires an existing plan with Atlassian URLs)\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available because PR review requires an existing plan. Reparo would normally initiate a PR review process to gather PR comments, but you need to create a plan first using **Accio**.\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow.\n- **Finite**: Not available because you're already in the initial state. Finite would normally return you to plan editing, but since no plan exists yet, it has no effect.\n\n### Next Steps\n\nUse **Accio** to create a new plan file where you can define your project's acceptance criteria and goals.\n",
  lumos_transitions_L10:
    "### Where We Are\n\nYou have completed PR review tasks and need to archive the results before continuing. You entered the PR review from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that were addressed\n- `.ai/task/review-task.md`: The review task that was executed\n- `.ai/task/review-task-results.md`: Results from executing the review task\n\n### Available Spells\n\n- **Accio**: Archives review results, updates the plan with a summary, and returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available until you archive the review results with Accio. Finite would return you to plan editing, but you must first archive your PR review results to ensure your changes are properly integrated.\n- **Reparo**: Not available until you archive the current review results. Reparo would initiate a new PR review process, but you need to complete the current one first by using **Accio** to archive the results.\n- **Reverto**: Not available in this phase. Reverto would normally cancel the PR review process, but at this stage you've already completed the review work and must use **Accio** to properly save and archive your progress.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first archive your review results with **Accio** and return to plan editing.\n\n### Next Steps\n\nUse **Accio** to archive your PR review results, update the `.ai/task/plan.md` file with a summary of changes made, and return to plan editing.\n",
  lumos_transitions_L11:
    "### Where We Are\n\nYou have completed PR review tasks and need to archive the results before continuing. You entered the PR review from task execution.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that were addressed\n- `.ai/task/review-task.md`: The review task that was executed\n- `.ai/task/review-task-results.md`: Results from executing the review task\n\n### Available Spells\n\n- **Accio**: Archives review results, updates the plan with a summary, and returns to task execution\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available until you archive the review results with Accio. Finite would return you to plan editing, but you must first archive your PR review results with **Accio** to ensure your changes are properly integrated.\n- **Reparo**: Not available until you archive the current review results. Reparo would initiate a new PR review process, but you need to complete the current one first by using **Accio** to archive the results.\n- **Reverto**: Not available in this phase. Reverto would normally cancel the PR review process, but at this stage you've already completed the review work and must use **Accio** to properly save and archive your progress.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first archive your review results with **Accio** and return to plan editing.\n\n### Next Steps\n\nUse **Accio** to archive your PR review results, update the `.ai/task/plan.md` file with a summary of changes made, and return to task execution.\n",
  lumos_transitions_L12:
    '### Where We Are\n\nYou need to confirm whether to restart the PR comments gathering process. You were in plan editing and requested to gather PR comments again while PR comments already exist.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: Existing PR comments that might be overwritten\n\n### Available Spells\n\n- **Reparo**: Confirms restart - deletes existing comments and gathers new PR comments\n- **Reverto**: Cancels restart - returns to plan editing without gathering new comments\n- **Accio**: Cancels restart - continues with existing PR comments without restarting\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available during this confirmation step. Finite would return you to plan editing, but you must first resolve the confirmation request with either **Reparo** (confirm restart) or **Reverto** (cancel).\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first resolve this confirmation step and return to plan editing.\n\n### Next Steps\n\nChoose whether to proceed with gathering new PR comments or cancel:\n\n- Use **Reparo** to confirm and restart the PR comments gathering process\n- Use **Reverto** to cancel and return to plan editing\n- Use **Accio** to cancel restart but continue with the existing PR comments\n',
  lumos_transitions_L13:
    '### Where We Are\n\nYou need to confirm whether to restart the PR comments gathering process. You were in task execution and requested to gather PR comments again while PR comments already exist.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: Existing PR comments that might be overwritten\n\n### Available Spells\n\n- **Reparo**: Confirms restart - deletes existing comments and gathers new PR comments\n- **Reverto**: Cancels restart - returns to task execution without gathering new comments\n- **Accio**: Cancels restart - continues with existing PR comments without restarting\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available during this confirmation step. Finite would return you to plan editing, but you must first resolve the confirmation request with either **Reparo** (confirm restart) or **Reverto** (cancel).\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first resolve this confirmation step and return to plan editing.\n\n### Next Steps\n\nChoose whether to proceed with gathering new PR comments or cancel:\n\n- Use **Reparo** to confirm and restart the PR comments gathering process\n- Use **Reverto** to cancel and return to task execution\n- Use **Accio** to cancel restart but continue with the existing PR comments\n',
  lumos_transitions_L14:
    '### Where We Are\n\nYou need to confirm whether to restart the entire PR review process from comments gathering. You were in plan editing and requested to gather PR comments again while a review task already exists.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: May exist if PR comments were gathered\n- `.ai/task/review-task.md`: Existing review task that would be discarded\n\n### Available Spells\n\n- **Reparo**: Confirms restart - deletes existing review files and gathers new PR comments\n- **Reverto**: Cancels restart - returns to plan editing without restarting\n- **Accio**: Cancels restart - continues with the existing review task without restarting\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available during this confirmation step. Finite would return you to plan editing, but you must first resolve the confirmation request with either **Reparo** (confirm restart) or **Reverto** (cancel).\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first resolve this confirmation step and return to plan editing.\n\n### Next Steps\n\nChoose whether to restart the PR review process or cancel:\n\n- Use **Reparo** to confirm and restart the entire PR review process\n- Use **Reverto** to cancel and return to plan editing\n- Use **Accio** to cancel restart but continue with the existing review task\n',
  lumos_transitions_L15:
    '### Where We Are\n\nYou need to confirm whether to restart the entire PR review process from comments gathering. You were in task execution and requested to gather PR comments again while a review task already exists.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: May exist if PR comments were gathered\n- `.ai/task/review-task.md`: Existing review task that would be discarded\n\n### Available Spells\n\n- **Reparo**: Confirms restart - deletes existing review files and gathers new PR comments\n- **Reverto**: Cancels restart - returns to task execution without restarting\n- **Accio**: Cancels restart - continues with the existing review task without restarting\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available during this confirmation step. Finite would return you to plan editing, but you must first resolve the confirmation request with either **Reparo** (confirm restart) or **Reverto** (cancel).\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first resolve this confirmation step and return to plan editing.\n\n### Next Steps\n\nChoose whether to restart the PR review process or cancel:\n\n- Use **Reparo** to confirm and restart the entire PR review process\n- Use **Reverto** to cancel and return to task execution\n- Use **Accio** to cancel restart but continue with the existing review task\n',
  lumos_transitions_L16:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/task.md` file is missing when you should be in task drafting.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/task.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by creating a new task\n- **Finite**: Returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a PR review process to gather PR comments, but you need to first recover from the error state using **Accio**.\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow.\n- **Expecto**: Not available during task execution phases. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you first need to return to plan editing with **Finite**.\n\n### Next Steps\n\nUse **Accio** to create a new task file and recover from this error, or use **Finite** to return to plan editing.\n",
  lumos_transitions_L17:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/task results.md` file is missing when you should have task execution results.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/task.md`: Your task definition\n- `.ai/task/task-results.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by either using existing results if found, or archiving the incomplete task and creating a new task\n- **Finite**: Returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a PR review process to gather PR comments, but you need to first recover from the error state using **Accio**.\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow.\n- **Expecto**: Not available during task execution phases. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you first need to return to plan editing with **Finite**.\n\n### Next Steps\n\nUse **Accio** to recover from this error. If `.ai/task/task-results.md` exists when it is cast, it will be used; otherwise, the incomplete task will be archived and a new task created.\n",
  lumos_transitions_L18:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/plan.md` file is missing when it's required for your current workflow.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by creating a new `.ai/task/plan.md` template\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available because there's no plan to return to. Finite would normally return you to plan editing, but since the plan is missing, there's nothing to edit.\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a PR review process to gather PR comments, but you need to first create a plan with **Accio**.\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow.\n- **Expecto**: Not available because there's no plan to enrich. Expecto would enrich your plan with information from Atlassian resources, but you need to first create a plan with **Accio**.\n\n### Next Steps\n\nUse **Accio** to create a new plan file and recover from this error.\n",
  lumos_transitions_L19:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/comments.md` file is missing when you're in the PR comments gathering phase. You entered the PR review from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by creating a new `.ai/task/comments.md` and gathering PR comments\n- **Reverto**: Cancels the PR review process and returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a new PR review process, but you're already in one with an error. Use **Accio** to recreate the `.ai/task/comments.md` file or **Reverto** to exit the PR review process.\n- **Finite**: Not available in this error state. Use **Reverto** instead to exit the PR review process and return to plan editing.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first exit the PR review flow with **Reverto** and return to plan editing.\n\n### Next Steps\n\nUse **Accio** to create a new `.ai/task/comments.md` file and gather PR comments, or use **Reverto** to abandon the PR review and return to plan editing.\n",
  lumos_transitions_L2:
    "### Where We Are\n\nYou are in the `.ai/task/plan.md` file editing phase where you define acceptance criteria and project goals.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n\n### Available Spells\n\n- **Accio**: Creates a task based on your plan if you have at least one acceptance criterion, or prompts you to add criteria if none exist\n- **Expecto**: Enriches your plan with information from Atlassian resources (if you have Atlassian URLs in the `.ai/task/plan.md` file)\n- **Reparo**: Initiates a PR review process to gather PR comments\n- **Finite**: Has no effect as you're already in plan editing phase\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow, but you haven't started a PR review yet.\n\n### Next Steps\n\nAdd at least one acceptance criterion to the `.ai/task/plan.md` file and then use **Accio** to start creating tasks, or use **Expecto** if you have Atlassian links in the `.ai/task/plan.md` file that you'd like to enrich with more information. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved (e.g., `- [ ] Create user dashboard`).\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  lumos_transitions_L20:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/review-task.md` file is missing when you're in the PR review task drafting phase. You entered the PR review from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that have been collected\n- `.ai/task/review-task.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by creating a new `.ai/task/review-task.md` template based on `.ai/task/comments.md`\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available until the error is resolved. Finite would return you to plan editing, but you need to first recover from this error state by using **Accio** to create a new review task.\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a new PR review process, but you're already in one with an error. Use **Accio** to recreate the `.ai/task/review-task.md` file first.\n- **Reverto**: Not available in error states. Reverto would normally cancel the PR review process, but in this error state it's disabled for safety. Use **Accio** to recover first.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first complete or cancel the PR review process.\n\n### Next Steps\n\nUse **Accio** to create a new review task file based on the PR comments and recover from this error.\n",
  lumos_transitions_L21:
    "### Where We Are\n\nYou're in an error state because the `.ai/task/review-task-results.md` file is missing when you should have review task execution results. You entered the PR review from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that were addressed\n- `.ai/task/review-task.md`: The review task that was executed\n- `.ai/task/review-task-results.md`: Missing - this is causing the error\n\n### Available Spells\n\n- **Accio**: Recovers from this error by returning to PR review task drafting to re-execute the task\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available until the error is resolved. Finite would return you to plan editing, but you need to first recover from the error state using **Accio** to re-execute the review task.\n- **Reparo**: Not available until the error is resolved. Reparo would initiate a new PR review process, but you need to first complete the current one by using **Accio**.\n- **Reverto**: Not available in error states. Reverto would normally cancel the PR review process, but you need to first recover from the error state using **Accio**.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to first complete the PR review and return to plan editing.\n\n### Next Steps\n\nUse **Accio** to return to the review task drafting state so you can re-execute the task and generate the missing results.\n",
  lumos_transitions_L22:
    "### Where We Are\n\nWe're at the very beginning of your project workflow. No context has been created yet, so we need to start by gathering information about your project goals and requirements.\n\n**Key Files:**\n\n- `.ai/task/context.md`: Not created yet - this will contain your project information\n- `.ai/plan-guide.md`: Not created yet - this will contain planning best practices\n\n### Available Spells\n\n- **Accio**: Create the context document to start gathering task information\n- **Lumos**: Show this current state information\n\n### Unavailable Spells\n\n- **Expecto**: Cannot enrich context without a context file (use **Accio** to create one first)\n- **Reparo**: Cannot start PR reviews until you have a plan (use **Accio** to create plan first)\n- **Finite**: Cannot return to plan editing because no plan exists yet\n- **Reverto**: Only available during PR review processes\n\n### Next Steps\n\nUse **Accio** to create your context document where you'll describe your project goals, requirements, and any relevant Jira or Confluence resources.\n",
  lumos_transitions_L23:
    "### Where We Are\n\nWe're in the context gathering phase where you're providing information about your project. You have a context file to work with but haven't generated a structured plan yet.\n\n**Key Files:**\n\n- `.ai/task/context.md`: Contains your project information and requirements\n- `.ai/plan-guide.md`: Contains planning guidelines and best practices\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your context information\n- **Expecto**: Enrich context with information from Atlassian resources\n- **Finite**: Stay in context editing (no-op)\n- **Lumos**: Show this current state information\n\n### Unavailable Spells\n\n- **Reparo**: Cannot start PR reviews until you have a plan (use **Accio** to create plan first)\n- **Reverto**: Only available during PR review processes\n\n### Next Steps\n\nContinue editing your `.ai/task/context.md` file with project details, requirements, and any Jira/Confluence URLs. When ready, use **Accio** to generate your structured plan.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  lumos_transitions_L24:
    "### Where We Are\n\nWe're in an error state because the expected context file is missing. This usually happens if files were accidentally deleted or the system state became inconsistent.\n\n**Key Files:**\n\n- `.ai/task/context.md`: Missing - needs to be recreated\n- `.ai/plan-guide.md`: May be missing - will be created if needed\n\n### Available Spells\n\n- **Accio**: Recreate the context document and return to context editing\n- **Lumos**: Show this current state information\n\n### Unavailable Spells\n\n- **Expecto**: Cannot enrich context without a context file\n- **Reparo**: Cannot start PR review until error is resolved\n- **Reverto**: Only available during PR review processes\n- **Finite**: Cannot return to editing until context is recreated\n\n### Next Steps\n\nUse **Accio** to recreate your context document and restore normal workflow functionality.\n",
  lumos_transitions_L3:
    "### Where We Are\n\nYou are in the `.ai/task/task.md` file drafting phase where you define a specific task to achieve an acceptance criterion.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/task.md`: The task you're currently drafting\n- `.ai/task-guide.md`: Task execution guidelines (can be customized)\n\n### Available Spells\n\n- **Accio**: Executes the current task and documents results\n- **Finite**: Returns to plan editing if you need to modify the `.ai/task/plan.md` file\n- **Reparo**: Initiates a PR review process to gather PR comments\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reverto**: Not available because you're not in a PR review workflow\n- **Expecto**: Not available during task execution phases. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence). Use **Finite** to return to plan editing first, and then you can use Expecto if you have Atlassian URLs in the `.ai/task/plan.md` file.\n\n### Next Steps\n\nReview and refine the task in `.ai/task/task.md`, then use **Accio** to execute it when ready. If you need to adjust your plan first, use **Finite** to return to plan editing.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  lumos_transitions_L4:
    "### Where We Are\n\nYou are in the `.ai/task/task.md` file execution completion phase where a task has been executed and results are ready for review.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/task.md`: The task that has been executed\n- `.ai/task/task-results.md`: Results from executing the task\n\n### Available Spells\n\n- **Accio**: Archives current task results, updates the plan, and creates a new task\n- **Reparo**: Initiates a PR review process to gather PR comments\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Finite**: Not available until you've processed your task results with Accio. Finite would normally allow you to return to plan editing, but you must first archive your task results using **Accio** to ensure your progress is properly integrated into the `.ai/task/plan.md` file.\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow.\n- **Expecto**: Not available during task execution phases. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence). You need to process your task results with **Accio** and then use **Finite** to return to plan editing before you can use Expecto.\n\n### Next Steps\n\nUse **Accio** to archive your completed task, update the `.ai/task/plan.md` file with the results, and move on to the next task. This is required before you can return to plan editing.\n",
  lumos_transitions_L5:
    "### Where We Are\n\nYou have completed all acceptance criteria in the `.ai/task/plan.md` file! All tasks have been successfully executed.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with all acceptance criteria checked off\n\n### Available Spells\n\n- **Finite**: Returns to plan editing so you can add more acceptance criteria\n- **Reparo**: Initiates a PR review process to gather PR comments\n- **Lumos**: Shows your current state and available actions\n- **Accio**: Reminds you that all acceptance criteria are complete ;)\n\n### Unavailable Spells\n\n- **Reverto**: Not available because you're not in a PR review workflow. Reverto is used to exit the PR review process and return to your previous workflow, but you haven't started a PR review yet.\n- **Expecto**: Not available during task execution phases. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence). Use **Finite** to return to plan editing first, and then you can use Expecto if you have Atlassian URLs in the `.ai/task/plan.md` file.\n\n### Next Steps\n\nUse **Finite** to return to plan editing and add more acceptance criteria if needed, or **Reparo** to start a PR review process.\n",
  lumos_transitions_L6:
    "### Where We Are\n\nYou are in the PR review comments gathering phase after entering from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments collected\n\n### Available Spells\n\n- **Accio**: Creates a review task based on the collected PR comments\n- **Finite**: Returns to plan editing, canceling the PR review process\n- **Reverto**: Cancels the PR review process and returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available because you're already in a PR review workflow. Reparo is used to start a new PR review, but you're already in the middle of one. If you need to restart the PR review process, use **Reverto** to exit first, then **Reparo** to start again.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to exit the PR review flow first with **Reverto** or **Finite**, then use Expecto during plan editing.\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file, then use **Accio** to create tasks to address these comments. If you want to exit the PR review flow, use **Reverto**.\n",
  lumos_transitions_L7:
    "### Where We Are\n\nYou are in the PR review comments gathering phase after entering from task execution.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments already collected\n\n### Available Spells\n\n- **Accio**: Creates a review task based on the collected PR comments\n- **Finite**: Returns to plan editing, canceling the PR review process\n- **Reverto**: Cancels the PR review process and returns to task execution\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available because you're already in a PR review workflow. Reparo is used to start a new PR review, but you're already in the middle of one. If you need to restart the PR review process, use **Reverto** to exit first, then **Reparo** to start again.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to exit the PR review flow first with **Reverto** or **Finite**, then use Expecto during plan editing.\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file, then use **Accio** to create tasks to address these comments. If you want to exit the PR review flow, use **Reverto**.\n",
  lumos_transitions_L8:
    "### Where We Are\n\nYou are drafting tasks to address PR review comments after entering from plan editing.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that have been collected\n- `.ai/task/review-task.md`: The review task being drafted\n- `.ai/task-guide.md`: Task execution guidelines (can be customized)\n\n### Available Spells\n\n- **Accio**: Executes the current review task and documents results\n- **Finite**: Returns to plan editing while in the middle of PR review. Using this will leave the PR review process incomplete. Consider using **Accio** to complete the review or **Reverto** to properly cancel it first.\n- **Reverto**: Cancels the PR review process and returns to plan editing\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available because you're already in a PR review workflow. Reparo is used to start a new PR review, but you're already in the middle of one. If you need to restart the PR review process, use **Reverto** to exit first, then **Reparo** to start again.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to exit the PR review flow first with **Reverto** or **Finite**, then use Expecto during plan editing.\n\n### Next Steps\n\nReview and refine the tasks in `.ai/task/review-task.md`, then use **Accio** to execute them when ready. If you want to exit the PR review flow, use **Reverto**.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  lumos_transitions_L9:
    "### Where We Are\n\nYou are drafting tasks to address PR review comments after entering from task execution.\n\n**Key Files:**\n\n- `.ai/task/plan.md`: Your project plan with acceptance criteria\n- `.ai/task/comments.md`: PR comments that have been collected\n- `.ai/task/review-task.md`: The review task being drafted\n- `.ai/task-guide.md`: Task execution guidelines (can be customized)\n\n### Available Spells\n\n- **Accio**: Executes the current review task and documents results\n- **Finite**: Returns to plan editing while in the middle of PR review. Using this will leave the PR review process incomplete. Consider using **Accio** to complete the review or **Reverto** to properly cancel it first.\n- **Reverto**: Cancels the PR review process and returns to task execution\n- **Lumos**: Shows your current state and available actions\n\n### Unavailable Spells\n\n- **Reparo**: Not available because you're already in a PR review workflow. Reparo is used to start a new PR review, but you're already in the middle of one. If you need to restart the PR review process, use **Reverto** to exit first, then **Reparo** to start again.\n- **Expecto**: Not available during PR review. Expecto would enrich your plan with information from Atlassian resources (Jira and Confluence), but you need to exit the PR review flow first with **Reverto** or **Finite**, then use Expecto during plan editing.\n\n### Next Steps\n\nReview and refine the tasks in `.ai/task/review-task.md`, then use **Accio** to execute them when ready. If you want to exit the PR review flow, use **Reverto**.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  pr_blocked_PB1:
    "## Response to the AI\n\nInform the developer that they cannot exit the PR review flow with Reverto at this point. They must first use Accio to properly archive the current review results.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reverto** which cannot be used right now because you need to properly archive your current review results first.\n\n### Where We Are\n\nWe're at the final step of the PR review process with completed review results that need to be properly archived before exiting the PR review flow.\n\n### Available Spells\n\n- **Accio**: Archive the current review results and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to properly archive the current review results. This ensures all your changes and feedback are preserved before returning to your main workflow.\n",
  pr_blocked_PB2:
    "## Response to the AI\n\nExplain to the developer that Expecto is only available in GATHER states, and they need to exit the PR review flow first before they can use it.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only available in GATHER states, and you're currently in a PR review flow.\n\n### Where We Are\n\nWe're in the PR review flow where we're processing PR comments. Expecto is used specifically for enriching plans with Atlassian resources, which isn't applicable in this context.\n\n### Available Spells\n\n- **Accio**: Continue with the PR review process\n- **Reverto**: Exit the PR review flow and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you need to use Expecto, first exit the PR review flow with **Reverto**. Then, once back in the GATHER state, you can use Expecto to enrich your plan with Atlassian resources.\n",
  pr_blocked_PB2b:
    "## Response to the AI\n\nExplain to the developer that Expecto is only available in GATHER states, and they need to exit the PR review flow first before they can use it.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only available in GATHER states, and you're currently working on a PR review task.\n\n### Where We Are\n\nWe're in the PR review flow at the task drafting phase, where we're defining how to address PR comments. Expecto is used specifically for enriching plans with Atlassian resources, which isn't applicable here.\n\n### Available Spells\n\n- **Accio**: Continue with the PR review task\n- **Reverto**: Exit the PR review flow and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you need to use Expecto, first exit the PR review flow with **Reverto**. Then, once back in the GATHER state, you can use Expecto to enrich your plan with Atlassian resources.\n",
  pr_blocked_PB2d:
    "## Response to the AI\n\nInform the developer that Expecto is only available in GATHER states, and they need to first archive their current review results with Accio.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only available in GATHER states, and you're currently in the final stage of a PR review.\n\n### Where We Are\n\nWe've completed a PR review task with results that need to be archived before moving to other workflow operations.\n\n### Available Spells\n\n- **Accio**: Archive the current review results and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse **Accio** to archive the current review results first. This will properly store your work and return you to the main workflow where you can then use Expecto if needed.\n",
  pr_blocked_PB3:
    "## Response to the AI\n\nTell the developer they must either complete the PR review flow with Accio or exit it with Reverto before returning to plan editing.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you must first complete or exit the PR review flow.\n\n### Where We Are\n\nWe're in the middle of a PR review process, which should either be completed or explicitly canceled before returning to plan editing.\n\n### Available Spells\n\n- **Accio**: Continue with the PR review process to completion\n- **Reverto**: Exit the PR review flow and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nYou have two options:\n\n1. Use **Accio** to continue processing the PR review to completion\n2. Use **Reverto** to exit the PR review flow entirely and return to your previous workflow\n\nOnce you've either completed or exited the PR review flow, you can use Finite to return to plan editing if needed.\n",
  pr_blocked_PB4:
    "## Response to the AI\n\nTell the developer they must complete the current PR review process or use Reverto to cancel it before starting a new PR review.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Reparo** which cannot be used right now because you're already in a PR review process.\n\n### Where We Are\n\nWe're in the middle of a PR review workflow that needs to be either completed or canceled before starting a new PR review.\n\n### Available Spells\n\n- **Accio**: Continue with the current PR review process\n- **Reverto**: Exit the current PR review flow and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nEither:\n\n1. Use **Accio** to continue and complete the current PR review process, or\n2. Use **Reverto** to cancel the current PR review and return to your previous workflow\n\nOnce you've completed or canceled the current PR review, you can use Reparo again to start a fresh PR review if needed.\n",
  pr_blocked_PB5:
    "## Response to the AI\n\nTell the developer they must first confirm or cancel the restart operation using Reparo or Reverto before they can return to plan editing.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Finite** which cannot be used right now because you need to address the confirmation prompt first.\n\n### Where We Are\n\nWe're at a confirmation point where you need to decide whether to restart the PR review process or not. This decision needs to be resolved before returning to plan editing.\n\n### Available Spells\n\n- **Reparo**: Confirm the restart operation\n- **Reverto**: Cancel the restart operation\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nFirst resolve the confirmation prompt by either:\n\n1. Using **Reparo** to confirm the restart operation, or\n2. Using **Reverto** to cancel the restart operation\n\nOnce you've made your choice, you'll be returned to an appropriate state where you can use Finite if needed.\n",
  pr_blocked_PB6:
    "## Response to the AI\n\nExplain to the developer that Expecto is only allowed in GATHER states and they need to resolve the current confirmation prompt first before they can return to plan editing and use Expecto.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to cast **Expecto** which cannot be used right now because it's only available in GATHER states, and you're currently at a PR review confirmation prompt.\n\n### Where We Are\n\nWe're at a confirmation point where you need to decide whether to restart the PR review process or not. This needs to be resolved before you can return to plan editing and use Expecto.\n\n### Available Spells\n\n- **Reparo**: Confirm the restart operation\n- **Reverto**: Cancel the restart operation\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nFirst resolve the confirmation prompt by either:\n\n1. Using **Reparo** to confirm the restart operation, or\n2. Using **Reverto** to cancel the restart operation\n\nAfter that, you can use Finite to return to plan editing, and then you can use Expecto to enhance your plan with Atlassian resources.\n",
  pr_confirm_C1:
    "## Response to the AI\n\nRead the contents of the `.ai/task/comments.md` file after it has been refreshed, then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've restarted the PR review process and gathered fresh PR comments for your current branch, saved to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're now in the PR review flow where we need to address the feedback in these comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've restarted the PR review process but couldn't find any PR comments for your current branch.\n\n### Where We Are\n\nWe're in the PR review flow, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found, use Reverto to exit the PR review process and return to your previous workflow.\n",
  pr_confirm_C2:
    "## Response to the AI\n\nRead the contents of the `.ai/task/comments.md` file after the previous review files have been cleared and a fresh comments file created, then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've restarted the PR review process from scratch, discarding the previous review task, and gathered fresh PR comments for your current branch, saved to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're now in the PR review flow where we need to address the feedback in these comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've restarted the PR review process from scratch, discarding the previous review task, but couldn't find any PR comments for your current branch.\n\n### Where We Are\n\nWe're in the PR review flow, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found, use Reverto to exit the PR review process and return to your previous workflow.\n",
  pr_confirm_C3a:
    "## Response to the AI\n\nRead the existing `.ai/task/comments.md` file that was preserved when the user chose to continue with the current PR review process instead of restarting it.\n\nThen, analyze the comments and prepare to help the user address them by:\n\n1. Summarizing the main feedback points from the `.ai/task/comments.md` file\n2. Identifying the key areas that need attention\n3. Preparing to guide the user through addressing these comments\n\n## Response to the Developer\n\n### What Just Happened\n\nI've canceled the PR review restart and will continue using the existing PR comments from `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're back in the PR review flow with your existing comments file, ready to process the feedback that was previously gathered.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Exit the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review the existing PR comments and use Accio to create tasks that address this feedback.\n",
  pr_confirm_C3b:
    "## Response to the AI\n\nInform the developer that the `.ai/task/comments.md` file is missing. The PR review process cannot continue without the `.ai/task/comments.md` file. Guide them to use Accio to recreate it and gather fresh PR comments.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to continue the PR review, but the `.ai/task/comments.md` file (`.ai/task/comments.md`) is missing.\n\n### Where We Are\n\nWe're in an error state because the PR comments file that should contain feedback is not available.\n\n### Available Spells\n\n- **Accio**: Recreate the `.ai/task/comments.md` file and gather PR comments\n- **Finite**: Return to plan editing (only available after fixing the error)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to recreate the `.ai/task/comments.md` file and gather fresh PR comments from GitHub.\n",
  pr_confirm_C3c:
    "## Response to the AI\n\nRead the existing `.ai/task/review-task.md` file that was preserved when the user chose to continue with the current PR review task instead of restarting it.\n\nThen:\n\n1. Review the tasks that were previously defined to address PR comments\n2. Prepare to guide the user through implementing these tasks\n3. Be ready to execute these tasks when the user casts Accio\n\n## Response to the Developer\n\n### What Just Happened\n\nI've canceled the PR review restart and will continue with your existing review task in `.ai/task/review-task.md`.\n\n### Where We Are\n\nWe're back in the PR review task phase with your previously created review tasks, ready to implement the changes needed to address PR comments.\n\n### Available Spells\n\n- **Accio**: Execute the review task and implement the changes\n- **Reverto**: Exit the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review the existing PR review task and use Accio to implement the changes needed to address the feedback.\n",
  pr_confirm_C3d:
    "## Response to the AI\n\nInform the developer that the `.ai/task/review-task.md` file is missing. The PR review task process cannot continue without this file. Guide them to either use Accio to create a new review task based on the PR comments or use Reverto to restart the PR review process.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou attempted to continue with the PR review task, but the `.ai/task/review-task.md` file is missing.\n\n### Where We Are\n\nWe're in an error state because the `.ai/task/review-task.md` file that should contain the specific tasks to address PR comments is not available.\n\n### Available Spells\n\n- **Accio**: Create a new review task based on the PR comments\n- **Reverto**: Exit the PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to create a new review task based on the PR comments, or if you want to restart the PR review process from the beginning, use Reverto to cancel the current review.\n",
  pr_transitions_P1:
    "## Response to the AI\n\ncontaining PR comments and the `.ai/task/review-task.md` template file. The `.ai/task/review-task.md` template has a predefined structure - follow this structure to fill in tasks that address each PR comment. Use the `.ai/task-guide.md` file for task execution guidance.\n\nFor each comment in `.ai/task/comments.md`:\n\n1. Analyze the comment to understand what changes are requested\n2. Add a task to `.ai/task/review-task.md` following the template format\n3. Include specific acceptance criteria for each task\n\n## Response to the Developer\n\n### What Just Happened\n\nI've analyzed your PR comments and created a structured task list to address the feedback.\n\n### Where We Are\n\nWe're now in the PR review task drafting phase where we'll plan how to address each comment systematically.\n\n### Available Spells\n\n- **Accio**: Execute the review tasks to address the PR comments\n- **Reverto**: Cancel this PR review process and return to previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the tasks I've created in `.ai/task/review-task.md`, make any adjustments needed, then use Accio to execute them and apply the requested changes.\n\n> **ðŸ’¡ Tip**: Consider using Ask/Plan mode in your AI assistant to iterate on this file without accidentally executing the next step. Most AI agents like Cursor or Claude Code have a mode where they cannot edit files, which is useful for planning and refining content collaboratively before proceeding.\n",
  pr_transitions_P1b:
    "## Response to the AI\n\nInform the developer that the `.ai/task/comments.md` file is missing and explain how to recover using Accio to recreate the file.\n\n## Response to the Developer\n\n### What Just Happened\n\nI tried to create review tasks, but the `.ai/task/comments.md` file is missing. This could happen if the file was accidentally deleted.\n\n### Where We Are\n\nWe're in an error state where we need to recreate the `.ai/task/comments.md` file before proceeding with the PR review.\n\n### Available Spells\n\n- **Accio**: Recreate the `.ai/task/comments.md` file and gather PR comments again\n- **Finite**: Return to plan editing (only if you want to abandon this PR review)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to recreate the `.ai/task/comments.md` file and fetch PR comments again. This will return us to the `.ai/task/comments.md` file gathering phase so we can continue with the PR review process.\n",
  pr_transitions_P2:
    "## Response to the AI\n\nRead the `.ai/task/review-task.md` file to understand what tasks need to be performed to address the PR comments. Use the `.ai/task-guide.md` file for task execution guidance. Execute each task in the `.ai/task/review-task.md` file:\n\n1. Parse the task definitions from `.ai/task/review-task.md`\n2. For each task:\n   - Make the required code changes\n   - Document what was changed and why\n   - Verify the change addresses the PR comment\n3. Document all results in `.ai/task/review-task-results.md`, including:\n   - Summary of all changes made\n   - Code snippets of before/after for each change\n   - Any challenges encountered and how they were resolved\n   - For any tasks that couldn't be completed, explain why\n\n## Response to the Developer\n\n### What Just Happened\n\nI've applied the changes from the review tasks and documented the results.\n\n### Where We Are\n\nWe've completed implementing the PR feedback. The results are documented in `.ai/task/review-task-results.md`.\n\n### Available Spells\n\n- **Accio**: Archive these PR review results and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the changes I've made in `.ai/task/review-task-results.md`. If everything looks good, use Accio to archive these results and return to your previous workflow.\n",
  pr_transitions_P2b:
    "## Response to the AI\n\nExplain to the developer that the `.ai/task/review task.md` file is missing and provide options for recovery.\n\n## Response to the Developer\n\n### What Just Happened\n\nI tried to execute review tasks but the `.ai/task/review-task.md` file is missing. This is likely due to an accidental deletion.\n\n### Where We Are\n\nWe're in an error state where we need to recreate the `.ai/task/review task.md` file before proceeding with the PR review.\n\n### Available Spells\n\n- **Accio**: Recreate the `.ai/task/review task.md` file based on the existing PR comments\n- **Reverto**: Cancel this PR review process and return to your previous workflow\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to recreate the `.ai/task/review task.md` file based on the PR comments we've already collected. Alternatively, if you want to restart the PR review process from the beginning, use Reverto to cancel the current review.\n",
  pr_transitions_P3:
    "## Response to the AI\n\n1. Use the provided review task results to understand what changes were made\n2. Update `.ai/task/plan.md` with a summary of these changes\n3. Guide the user on next steps for plan editing\n\nReview Task Results Content:\n[REVIEW_TASK_RESULTS_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nI've archived the PR review results and updated our plan with a summary of the changes made.\n\n### Where We Are\n\nWe're back in the `.ai/task/plan.md` file editing phase where we can continue refining our acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Move to task creation after adding at least one acceptance criterion\n- **Expecto**: Enrich our plan with information from Atlassian resources\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/plan.md` file updates I've made based on the PR feedback. You can continue editing the plan and when ready, use Accio to create a new task. If you need to add more acceptance criteria, remember they are lines that start with `- [ ]` format, representing specific goals that need to be achieved.\n",
  pr_transitions_P3b:
    "## Response to the AI\n\nExplain to the developer that the `.ai/task/review task results.md` file is missing and provide options for recovery.\n\n## Response to the Developer\n\n### What Just Happened\n\nI tried to archive the PR review results, but the `.ai/task/review-task-results.md` file is missing. This likely happened because the file was accidentally deleted or not properly created.\n\n### Where We Are\n\nWe're in an error state where we need to recreate the `.ai/task/review task results.md` file before archiving and returning to your regular workflow.\n\n### Available Spells\n\n- **Accio**: Recreate the `.ai/task/review task results.md` file based on changes made\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nUse Accio to recreate the `.ai/task/review task results.md` file. I'll analyze the git diff to see what changes were made to address the PR comments and document them appropriately.\n",
  pr_transitions_P4a:
    "## Response to the AI\n\n1. Use the provided review task results to understand what changes were made from PR comments\n2. Update `.ai/task/plan.md` with a summary of these changes\n3. Read the existing `.ai/task/task.md` file to understand the current task\n4. Summarize the current task for the user in the context of the PR feedback\n\nReview Task Results Content:\n[REVIEW_TASK_RESULTS_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nI've archived the PR review results, updated our plan, and found an existing task that we can continue working on.\n\n### Where We Are\n\nWe're back in the `.ai/task/task.md` file drafting phase where we can continue implementing our previous task with insights from the PR feedback.\n\n### Available Spells\n\n- **Accio**: Execute the current task and document results\n- **Finite**: Return to plan editing if we need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nI've summarized your current task below. You can continue working on it with the PR feedback in mind, then use Accio to execute it when you're ready.\n",
  pr_transitions_P4b:
    "## Response to the AI\n\n1. Use the provided review task results to understand what changes were made from PR comments\n2. Update `.ai/task/plan.md` with a summary of these changes\n3. Read the `.ai/task/plan.md` to identify the next acceptance criterion to work on\n4. Create a new `.ai/task/task.md` with a clearly defined task that:\n   - Focuses on the smallest complete unit of work toward an acceptance criterion\n   - Can be completed in one session\n   - Has clear completion criteria\n   - Follows the `.ai/task/task.md` template format\n\nReview Task Results Content:\n[REVIEW_TASK_RESULTS_PLACEHOLDER]\n\n## Response to the Developer\n\n### What Just Happened\n\nI've archived the PR review results, updated our plan, and created a new task to move us forward.\n\n### Where We Are\n\nWe're now drafting a new task in `.ai/task/task.md` where we'll define the specific work to be done next.\n\n### Available Spells\n\n- **Accio**: Execute the defined task and document results\n- **Finite**: Return to plan editing if we need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review and refine the proposed task I've created, then use Accio to execute it when we're ready.\n",
  reparo_transitions_A5a:
    "## Response to the AI\n\nRead the empty `.ai/task/comments.md` file, and then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've gathered PR comments for your current branch and saved them to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're now in the PR review flow where we need to address the feedback in these comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've checked for PR comments but couldn't find any for your current branch.\n\n### Where We Are\n\nWe're in the PR review flow, but no comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found, use Reverto to exit the PR review process and return to your previous workflow.\n",
  reparo_transitions_A5b:
    "## Response to the AI\n\nRead the empty `.ai/task/comments.md` file, and then:\n\n1. Check if GitHub MCP is available using this approach:\n   - Check your available tools/functions for GitHub-related capabilities\n   - Try a minimal call such as a simple repository search\n   - Analyze the response to determine if the integration is working\n\n2. Based on GitHub MCP availability:\n   - If GitHub MCP is available: Fetch PR comments for the current branch\n   - If GitHub MCP is not available: Guide the user through setting it up\n\n3. If there are PR comments:\n   - Format and write comments to `.ai/task/comments.md`\n   - Provide a summary of the feedback\n   - Use the \"Comments Found\" response to the developer\n\n4. If no PR exists or no comments found:\n   - Explicitly document this in `.ai/task/comments.md`\n   - Explain to the user that no comments were found\n   - Use the \"No Comments Found\" response to the developer\n\n## Response to the Developer\n\n### Comments Found Response:\n\n### What Just Happened\n\nI've gathered PR comments for your current branch and saved them to `.ai/task/comments.md`.\n\n### Where We Are\n\nWe've recovered from the error state and are now in the PR review flow where we need to address the feedback in these comments.\n\n### Available Spells\n\n- **Accio**: Process these PR comments and create tasks to address them\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the `.ai/task/comments.md` file I've gathered, then use Accio to create tasks that address this feedback.\n\n### No Comments Found Response:\n\n### What Just Happened\n\nI've checked for PR comments but couldn't find any for your current branch.\n\n### Where We Are\n\nWe've recovered from the error state but no PR comments were found to process.\n\n### Available Spells\n\n- **Reverto**: Cancel the PR review process and return to previous state\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nSince no PR comments were found, use Reverto to exit the PR review process and return to your previous workflow.\n",
  reparo_transitions_PR1:
    "## Response to the AI\n\nInform the developer that this action requires confirmation because it will overwrite the existing `.ai/task/comments.md` file which contains PR comments that are already being reviewed.\n\n## Response to the Developer\n\n### What Just Happened\n\nA confirmation is needed: You've requested to restart the PR review process, but there's already an existing PR review in progress with comments stored in `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're at a decision point where you need to choose whether to restart the PR review process with fresh comments.\n\n### Available Choices\n\n- **Reparo**: Confirm and restart the PR review process with fresh comments (will overwrite existing comments)\n- **Reverto**: Cancel and return to plan editing without restarting the PR review\n- **Accio**: Continue with the existing PR comments without restarting\n\n### Next Steps\n\nReview the existing PR comments in `.ai/task/comments.md` to help you decide. Then choose whether to proceed with restarting the PR review process or cancel it. Use **Reparo** to confirm the restart, **Reverto** to cancel and return to plan editing, or **Accio** to continue with the existing comments.\n",
  reparo_transitions_PR2:
    "## Response to the AI\n\nInform the developer that this action requires confirmation because it will overwrite the existing `.ai/task/comments.md` file which contains PR comments that are already being reviewed.\n\n## Response to the Developer\n\n### What Just Happened\n\nA confirmation is needed: You've requested to restart the PR review process, but there's already an existing PR review in progress with comments stored in `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're at a decision point where you need to choose whether to restart the PR review process with fresh comments.\n\n### Available Choices\n\n- **Reparo**: Confirm and restart the PR review process with fresh comments (will overwrite existing comments)\n- **Reverto**: Cancel and return to task drafting without restarting the PR review\n- **Accio**: Continue with the existing PR comments without restarting\n\n### Next Steps\n\nReview the existing PR comments in `.ai/task/comments.md` to help you decide. Then choose whether to proceed with restarting the PR review process or cancel it. Use **Reparo** to confirm the restart, **Reverto** to cancel and return to task drafting, or **Accio** to continue with the existing comments.\n",
  reparo_transitions_PR3:
    "## Response to the AI\n\nInform the developer that this action requires confirmation because it will discard the current `.ai/task/review-task.md` file which contains the specific tasks to address PR comments.\n\n## Response to the Developer\n\n### What Just Happened\n\nA confirmation is needed: You've requested to restart the PR review process, but there are already defined review tasks in progress in `.ai/task/review-task.md` based on PR comments from `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're at a decision point where you need to choose whether to discard the current review tasks and restart the PR review process from the beginning.\n\n### Available Choices\n\n- **Reparo**: Confirm and restart the PR review process from gathering comments (will discard current review tasks)\n- **Reverto**: Cancel and return to plan editing without restarting\n- **Accio**: Continue with the existing review tasks without restarting\n\n### Next Steps\n\nReview both the existing PR comments in `.ai/task/comments.md` and the review tasks in `.ai/task/review-task.md` to help you decide. Then choose whether to proceed with restarting the PR review process or cancel it. Use **Reparo** to confirm the restart, **Reverto** to cancel and return to plan editing, or **Accio** to continue with the existing review tasks.\n",
  reparo_transitions_PR4:
    "## Response to the AI\n\nInform the developer that this action requires confirmation because it will discard the current `.ai/task/review-task.md` file which contains the specific tasks to address PR comments.\n\n## Response to the Developer\n\n### What Just Happened\n\nA confirmation is needed: You've requested to restart the PR review process, but there are already defined review tasks in progress in `.ai/task/review-task.md` based on PR comments from `.ai/task/comments.md`.\n\n### Where We Are\n\nWe're at a decision point where you need to choose whether to discard the current review tasks and restart the PR review process from the beginning.\n\n### Available Choices\n\n- **Reparo**: Confirm and restart the PR review process from gathering comments (will discard current review tasks)\n- **Reverto**: Cancel and return to task drafting without restarting\n- **Accio**: Continue with the existing review tasks without restarting\n\n### Next Steps\n\nReview both the existing PR comments in `.ai/task/comments.md` and the review tasks in `.ai/task/review-task.md` to help you decide. Then choose whether to proceed with restarting the PR review process or cancel it. Use **Reparo** to confirm the restart, **Reverto** to cancel and return to task drafting, or **Accio** to continue with the existing review tasks.\n",
  reverto_transitions_V1:
    "## Response to the AI\n\nRead the `.ai/task/plan.md` file to understand what the user was working on before entering the PR review flow. Guide the user through continuing their work on the plan now that they've exited the PR review process.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've exited the PR review process and returned to plan editing.\n\n### Where We Are\n\nWe're now back in the planning phase where we can edit and refine our project plan.\n\n### Available Spells\n\n- **Accio**: Progress to task creation once you've defined at least one acceptance criterion\n- **Expecto**: Enrich the plan with information from Atlassian resources if you have Jira or Confluence links\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's return to working with the plan in `.ai/task/plan.md`. You can review and refine your acceptance criteria or use Accio to start creating tasks.\n",
  reverto_transitions_V2a:
    "## Response to the AI\n\nRead the `.ai/task/task.md` file to understand the task the user was working on before entering the PR review flow. Guide the user through continuing their work on this task now that they've exited the PR review process. Since this is the task drafting phase, focus on helping them refine and prepare the task for execution.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've exited the PR review process and returned to the `.ai/task/task.md` file in progress.\n\n### Where We Are\n\nWe're back in the `.ai/task/task.md` file drafting phase where we need to define and execute specific steps to make progress on our acceptance criteria.\n\n### Available Spells\n\n- **Accio**: Execute the current task and document the results\n- **Finite**: Return to plan editing if you need to modify the `.ai/task/plan.md` file\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's continue working on the task defined in `.ai/task/task.md`. Review the current task details and use Accio when you're ready to execute it.\n",
  reverto_transitions_V2b:
    "## Response to the AI\n\nRead the `.ai/task/task.md` file and the `.ai/task/task-results.md` file to understand the task the user has executed and its results. Guide the user through reviewing these results now that they've exited the PR review process. Since this is the task executed phase, focus on helping them process the results and prepare for the next step.\n\n## Response to the Developer\n\n### What Just Happened\n\nWe've exited the PR review process and returned to your executed task and its results.\n\n### Where We Are\n\nWe're in the `.ai/task/task.md` file completion phase where we've executed a task and documented the results. These results are ready for review and integration with the plan.\n\n### Available Spells\n\n- **Accio**: Process task results and create the next task\n- **Finite**: Return to plan editing\n- **Reparo**: Begin a new PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nLet's review the `.ai/task/task.md` file results in `.ai/task/task-results.md`. When you're satisfied with the results, use Accio to process them, update the `.ai/task/plan.md` file, and determine what to tackle next.\n",
  universal_expecto_E1b:
    "## Response to the AI\n\nYou have been provided with a list of Atlassian URLs from the `.ai/task/context.md` file that have not been processed yet:\n\n[ATLASSIAN_URLS_PLACEHOLDER]\n\nFirst, check if the Atlassian MCP is available using this approach:\n\n1. Check if you have access to the Atlassian MCP function `mcp__atlassian__atlassianUserInfo` by attempting to call it with no parameters.\n2. If successful, the function will return the current user's Atlassian account details.\n3. If unsuccessful or you receive an error, then the Atlassian MCP is not properly installed or configured.\n\nBased on Atlassian MCP availability:\n\n- If Atlassian MCP is available:\n  1. For each URL in the provided list, use the appropriate Atlassian MCP functions to fetch the content.\n  2. Enrich the `.ai/task/context.md` file with relevant information from these Atlassian resources.\n  3. After successfully processing each URL, add it to the `.ai/task/.atlassian-refs` file (one URL per line).\n  4. Use the \"Atlassian Integration Available\" response to the developer.\n\n- If Atlassian MCP is not available:\n  1. Add a note to the `.ai/task/context.md` file explaining that Atlassian integration is not available.\n  2. Use the \"Atlassian Integration Unavailable\" response to the developer.\n\n## Response to the Developer\n\n### Atlassian Integration Available Response:\n\n### What Just Happened\n\nI've enriched your context with information from the Atlassian resources you referenced.\n\n### Where We Are\n\nWe're in the context editing phase, where we're building up information about your project from various sources including Jira and/or Confluence.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your enriched context\n- **Expecto**: Further enrich the context with additional Atlassian resources (if more are referenced)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the enriched information I've added to your `.ai/task/context.md` file from your Atlassian resources. Then use **Accio** to generate your structured plan when you're ready.\n\n### Atlassian Integration Unavailable Response:\n\n### What Just Happened\n\nI attempted to enrich the context with information from Atlassian resources, but the Atlassian integration is not available or configured.\n\n### Where We Are\n\nWe're in the context editing phase, but without access to the Atlassian integration to pull in additional information.\n\n### Available Spells\n\n- **Accio**: Generate a structured plan from your current context\n- **Expecto**: Attempt to enrich the context with Atlassian resources (requires configuration)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nTo enable Atlassian integration:\n\n1. Ensure you have valid Atlassian credentials\n2. Configure the Atlassian integration for this environment\n3. Try the **Expecto** spell again once configured\n\nAlternatively, you can continue without Atlassian integration by using **Accio** to generate your plan from the current context information.\n",
  universal_expecto_E2:
    "## Response to the AI\n\nYou have been provided with a list of Atlassian URLs from the `.ai/task/plan.md` file that have not been processed yet:\n\n[ATLASSIAN_URLS_PLACEHOLDER]\n\nFirst, check if the Atlassian MCP is available using this approach:\n\n1. Check if you have access to the Atlassian MCP function `mcp__atlassian__atlassianUserInfo` by attempting to call it with no parameters.\n2. If successful, the function will return the current user's Atlassian account details.\n3. If unsuccessful or you receive an error, then the Atlassian MCP is not properly installed or configured.\n\nBased on Atlassian MCP availability:\n\n- If Atlassian MCP is available:\n  1. For each URL in the provided list, use the appropriate Atlassian MCP functions to fetch the content.\n  2. Enrich the `.ai/task/plan.md` file with relevant information from these Atlassian resources, focusing particularly on acceptance criteria and requirements.\n  3. After successfully processing each URL, add it to the `.ai/task/.atlassian-refs` file (one URL per line).\n  4. Use the \"Atlassian Integration Available\" response to the developer.\n\n- If Atlassian MCP is not available:\n  1. Add a note to the `.ai/task/plan.md` file explaining that Atlassian integration is not available.\n  2. Use the \"Atlassian Integration Unavailable\" response to the developer.\n\n## Response to the Developer\n\n### Atlassian Integration Available Response:\n\n### What Just Happened\n\nI've enriched our plan with additional information from the Atlassian resources you referenced.\n\n### Where We Are\n\nWe're in the `.ai/task/plan.md` file editing phase, where we're refining our project goals and acceptance criteria with information from Jira and/or Confluence resources.\n\n### Available Spells\n\n- **Accio**: Progress to task creation once we have defined at least one acceptance criterion\n- **Expecto**: Further enrich the plan with additional Atlassian resources (if more are referenced)\n- **Reparo**: Begin a PR review process\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nReview the additional information I've incorporated from your Atlassian resources. Continue refining the plan and defining acceptance criteria. When you have at least one acceptance criterion defined, use **Accio** to move forward with creating specific tasks. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved.\n\n### Atlassian Integration Unavailable Response:\n\n### What Just Happened\n\nI attempted to enrich the plan with information from Atlassian resources, but the Atlassian integration is not available or configured.\n\n### Where We Are\n\nWe're in the `.ai/task/plan.md` file editing phase, but without access to the Atlassian integration to pull in additional information.\n\n### Available Spells\n\n- **Accio**: Progress to task creation once we have defined at least one acceptance criterion\n- **Expecto**: Attempt to enrich the plan with Atlassian resources (requires configuration)\n- **Reparo**: Begin a PR review process\n- **Finite**: Stay in plan editing mode (no-op since we're already here)\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nTo enable Atlassian integration:\n\n1. Ensure you have valid Atlassian credentials\n2. Configure the Atlassian integration for this environment\n3. Try the **Expecto** spell again once configured\n\nAlternatively, you can continue without Atlassian integration by adding acceptance criteria manually and using **Accio** to proceed when ready. Acceptance criteria are lines that start with `- [ ]` format, representing specific goals that need to be achieved.\n",
  universal_expecto_E3:
    "## Response to the AI\n\nInform the developer that no Atlassian URLs were found in the `.ai/task/plan.md` file. The MCP has checked the `.ai/task/plan.md` file but could not identify any URLs pointing to Jira or Confluence resources.\n\n## Response to the Developer\n\n### What Just Happened\n\nI checked for Atlassian URLs (Jira or Confluence links) in the `.ai/task/plan.md` file, but couldn't find any.\n\n### Where We Are\n\nWe're still in the planning phase, but without any Atlassian resources to enrich our plan.\n\n### Available Spells\n\n- **Accio**: Progress to the next step (create plan or task based on your current state)\n- **Expecto**: Will only work if you add Atlassian URLs to the `.ai/task/plan.md` file\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you want to enrich your plan with Jira or Confluence information:\n\n1. Add URLs to Jira tickets or Confluence pages in your `.ai/task/plan.md` file\n2. Use **Expecto** again to fetch and incorporate that information\n\nAlternatively, continue with your current plan and use **Accio** to move forward when you're ready.\n",
  universal_expecto_E3b:
    "## Response to the AI\n\nInform the developer that no Atlassian URLs were found in the plan.md file and suggest adding Jira/Confluence links to enrich the plan.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Expecto** which had no effect because no Atlassian URLs (Jira or Confluence links) were found in your plan.\n\n### Where We Are\n\nWe're in the planning phase, but there are no Atlassian resources to enrich from.\n\n### Available Spells\n\n- **Accio**: Move to task creation based on current plan content\n- **Expecto**: Enrich plan with Atlassian resources (add URLs to plan.md first)\n- **Reparo**: Begin a PR review process\n- **Finite**: Return to plan editing to modify your plan\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you have relevant Jira tickets or Confluence pages for your project, add those URLs to your `.ai/task/plan.md` file and try **Expecto** again. Otherwise, use **Accio** to proceed with task creation from your current plan.\n",
  universal_expecto_E4:
    "a ## Response to the AI\n\nInform the developer that all Atlassian URLs found in the `.ai/task/plan.md` file have already been processed. The MCP found Atlassian URLs but all of them were already present in the .ai/task/.atlassian-refs file, indicating they have been previously fetched and incorporated into the `.ai/task/plan.md` file.\n\n## Response to the Developer\n\n### What Just Happened\n\nI checked for new Atlassian URLs in the `.ai/task/plan.md` file, but all the URLs have already been processed and their content incorporated into the `.ai/task/plan.md` file.\n\n### Where We Are\n\nWe're still in the planning phase with all referenced Atlassian resources already enriched in the `.ai/task/plan.md` file.\n\n### Available Spells\n\n- **Accio**: Progress to the next step (create plan or task based on your current state)\n- **Expecto**: Will only work with new Atlassian URLs not previously processed\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nIf you want to re-fetch information from specific Atlassian URLs:\n\n1. Edit the `.ai/task/.atlassian-refs` file and remove the URLs you want to process again\n2. Use **Expecto** again to re-fetch and incorporate that information\n\nAlternatively, add new Atlassian URLs to your `.ai/task/plan.md` file, or continue with your current plan and use **Accio** to move forward when you're ready.\n",
  universal_expecto_E4b:
    "## Response to the AI\n\nInform the developer that all Atlassian URLs in the plan.md file have already been processed and suggest editing .atlassian-refs to reprocess if needed.\n\n## Response to the Developer\n\n### What Just Happened\n\nYou cast **Expecto** which had no effect because all Atlassian URLs in your plan have already been processed.\n\n### Where We Are\n\nWe're in the planning phase with all available Atlassian resources already integrated.\n\n### Available Spells\n\n- **Accio**: Move to task creation based on your enriched plan\n- **Expecto**: Re-enrich plan with Atlassian resources (edit .atlassian-refs to reprocess)\n- **Reparo**: Begin a PR review process\n- **Finite**: Return to plan editing to modify your plan\n- **Lumos**: Show current state and available actions\n\n### Next Steps\n\nYour plan already includes information from all referenced Atlassian resources. Use **Accio** to proceed with task creation. If you need to reprocess the Atlassian links, edit the `.ai/task/.atlassian-refs` file and try **Expecto** again.\n",
};
